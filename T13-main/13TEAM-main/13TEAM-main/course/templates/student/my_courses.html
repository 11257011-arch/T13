{% extends "base.html" %}
{% block title %}我的成績{% endblock %}

{% block content %}
<div class="card">
  <h1>我的成績</h1>
  <p class="muted">顯示本學期所有修課成績與平均。</p>
</div>

<div class="card">
  <h2>修課與成績</h2>

  {% if enrollments %}
    <table class="table">
      <tr>
        <th>課程</th>
        <th>老師</th>
        <th>期中</th>
        <th>期末</th>
        <th>平均</th>
      </tr>

      {% for e in enrollments %}
      <tr>
        <td>{{ e.course.name }}</td>
        <td>{{ e.course.teacher.username }}</td>
        <td>{{ e.midterm|default:"-" }}</td>
        <td>{{ e.final|default:"-" }}</td>
        <td>{% if e.average %}{{ e.average }}{% else %}-{% endif %}</td>
      </tr>
      {% endfor %}
    </table>

    <div class="card" style="margin-top:14px;">
      <b>本學期平均：</b>
      {% if semester_avg %}{{ semester_avg }}{% else %}-{% endif %}
    </div>
  {% else %}
    <p>目前尚無修課資料。</p>
  {% endif %}
</div>
{% endblock %}
